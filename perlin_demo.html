<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/utility.js"></script>
    <script src="/js/CT_Modeler_Expanded.js"></script>
    <script src="/js/modeler.js"></script>
    <script src="/js/perlin.js"></script>
    <script>
        var width = 20;
        var perlinScale = 2;

        $(document).ready(function(){
            $("#canvas_3d").attr("width", $(document.body).width());
            $("#canvas_3d").attr("height", $(document.body).height());

            Modeler.init("canvas_3d");
            Modeler.scale(0.5);

            for (var x = 0; x < width; x++) {
                for (var y = 0; y < width; y++) {
                    var value = Math.abs(noise.perlin2(perlinScale * x / width, perlinScale * y / width));
                    var color = [ 0, value, 0 ];
                    Modeler.addPoint((x / width) - 0.5, (y / width) - 0.5, value, color);
                }
            }
            Modeler.setRotation([ -Math.PI / 4, 0, 0 ]);
            Modeler.setRotationSpeed([ 0, 0, 0.1 ]);
        });
    </script>
</head>
<body>
    <canvas id="canvas_3d" width=1600 height=768></canvas>
</body>